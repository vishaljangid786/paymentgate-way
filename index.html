<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PhonePe Payment</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-lg">
    <h1 class="text-2xl font-semibold mb-4 text-center">Pay with PhonePe</h1>
    <form id="payment-form" class="space-y-4">
      <!-- User Input for Amount -->
      <div>
        <label for="amount" class="block text-sm font-medium text-gray-700">Amount (INR)</label>
        <input
          type="number"
          id="amount"
          name="amount"
          class="mt-1 p-2 w-full border border-gray-300 rounded-md"
          placeholder="Enter Amount"
          required
        />
      </div>

      <!-- Pay Button -->
      <div>
        <button
          type="button"
          id="pay-button"
          class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 focus:outline-none"
        >
          Pay with PhonePe
        </button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById("pay-button").onclick = function () {
      // Get the entered amount from the form
      const amount = document.getElementById("amount").value;

      if (amount && amount > 0) {
        // PhonePe UPI Payment Link Format
        const phonePeVPA = "8302660875@axl"; // Replace with your PhonePe VPA (UPI ID)
        const payeeName = "Vishal Jangid"; // Your Name or Business Name
        const transactionId = "txn" + new Date().getTime(); // Unique transaction ID (could use timestamp)
        const transactionNote = "Payment for goods/services"; // Description of the transaction
        const currencyCode = "INR"; // Currency code

        // Construct the UPI link
        const upiLink = `upi://pay?pa=${phonePeVPA}&pn=${payeeName}&tid=${transactionId}&tn=${transactionNote}&am=${amount}&cu=${currencyCode}`;

        // Attempt to open PhonePe via UPI link
        const redirectToPhonePe = () => {
          // Check if the link is accessible on mobile or a UPI-supported browser
          window.location.href = upiLink;
        };

        // Handle the user experience:
        // On mobile devices, the link should attempt to open the app.
        // On desktop, inform the user to use a mobile device.
        if (/Android|iPhone/i.test(navigator.userAgent)) {
          // Try redirecting to PhonePe
          redirectToPhonePe();
        } else {
          alert("For UPI payments, please use a mobile device with the PhonePe app installed.");
        }
      } else {
        alert("Please enter a valid amount");
      }
    };
  </script>
</body>
</html>
